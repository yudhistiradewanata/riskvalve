@using SharedLayer
@{
    ViewData["Title"] = "Assessment";
    var limitState = ViewData["CurrentConditionLimitStateData"] as List<CurrentConditionLimitStateData>;
    var inspectionEffectivenessStates = ViewData["InspectionEffectivenessData"] as List<InspectionEffectivenessData>;
    var isValveRepairedStates = ViewData["IsValveRepairedData"] as List<IsValveRepairedData>;
    var inspectionMethods = ViewData["InspectionMethodData"] as List<InspectionMethodData>;
    var timeToLimitStates = ViewData["TimeToLimitStateData"] as List<TimeToLimitStateData>;
    var impactEffectStates = ViewData["ImpactEffectData"] as List<ImpactEffectData>;
    var usedWithinOEMSpecifications = ViewData["UsedWithinOEMSpecificationData"] as List<UsedWithinOEMSpecificationData>;
    var repairedStates = ViewData["RepairedData"] as List<RepairedData>;
    var hsseDefinisions = ViewData["HSSEDefinisionData"] as List<HSSEDefinisionData>;

    var defaultDate = ViewData["date"] as string;
    string baseurl = Url.Action("","") ?? "";
    string urlassessmentupdate = Url.Action("UpdateAssessment", "Assessment") ?? "";
    string urlassessmentdelete = Url.Action("DeleteAssessment", "Assessment") ?? "";
    string urlassessmentadd = Url.Action("AddAssessment", "Assessment") ?? "";
    string urlassessmentprint = Url.Action("PrintAssessment", "Assessment") ?? "";
    string urlassetdetail = Url.Action("GetAssetDetail", "AssetRegister") ?? "";
    string urlassessmentdetail = Url.Action("GetAssessmentDetail", "Assessment") ?? "";
    string urlassessmentinspection = Url.Action("GetInspectionList", "Inspection") ?? "";
    string urlassessmentmaintenance = Url.Action("GetMaintenanceList", "Maintenance") ?? "";
    string urlinspectiondetail = Url.Action("GetInspectionDetail", "Inspection") ?? "";
    string urlmaintenancedetail = Url.Action("GetMaintenanceDetail", "Maintenance") ?? "";
}
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@{
    var tokens = Xsrf.GetAndStoreTokens(Context);
}
    <div class="container-fluid">
        <div class="row">
            <div class="sidebar border border-right col-md-3 col-lg-2 p-0 bg-body-tertiary">
                <partial name="InspectionAssessmentSidebar" />
            </div>
            <main class="col-md-9 ms-sm-auto col-lg-10 p-0 subheader-negative-margin with-bg-image">
                <div>
                    <ul class="nav nav-tabs nav-tab-menus" id="inspectiontabheader" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" href="#welcome" data-bs-toggle="tab" data-bs-target="#welcome" type="button" role="tab">
                                Welcome
                            </a>
                        </li>
                        <li class="nav-item" id="template_inspection_header">
                            <a
                                href="#inspection1" data-bs-toggle="tab">New Assessment Template
                                <button 
                                    type="button"
                                    class="btn-close-inspection"
                                ><i class="fa-solid fa-xmark"></i></button>
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content inspection-tab" id="tabcontentcontainer">
                        <div class="tab-pane active show" id="welcome">
                            <div class="sub-container">
                                <h1>Welcome to Assessment</h1>
                                <p>To start conducting assessment, please choose valve asset in the tree view.</p>
                            </div>
                        </div>
                        <div class="tab-pane" id="template_inspection">
                            <form class="assessment-form">
                                <div class="row">
                                    <div class="col-lg-2">
                                        <div class="assessment-tab-content-submenu">
                                            <div class="submenu-item active" onclick="changeContentCard('valveproperties', this)"><i class="bi bi-card-list"></i> Valve Properties</div>
                                            <div class="submenu-item" onclick="changeContentCard('inspectionhistory', this)"><i class="bi bi-clock-history"></i> Inspection History</div>
                                            <div class="submenu-item" onclick="changeContentCard('maintenancehistory', this)"><i class="bi bi-clock-history"></i> Maintenance History</div>
                                            <div class="submenu-item" onclick="changeContentCard('riskassessment', this)"><i class="bi bi-search"></i> Risk Assessment</div>
                                            <div class="submenu-item" onclick="changeContentCard('riskmatrix', this)"><i class="bi bi-bar-chart"></i> Risk Matrix</div>
                                            <div class="submenu-item" onclick="changeContentCard('integrityplan', this)"><i class="bi bi-calendar2-check"></i> Integrity Plan</div>
                                        </div>
                                        <div class="submenu-action">
                                            <div class="top-row">
                                                <button type="button" class="btn btn-block btn-primary btn-maincolor submit-button" onclick="submitForm(this)"><i class="bi bi-save"></i> Save</button>
                                                <a  target="_blank" class="print-button"><button type="button" class="btn btn-block btn-warning" id="btn-print"><i class="bi bi-printer"></i> Print</button></a>
                                            </div>
                                            <div class="bottom-row">
                                                <button type="button" class="btn btn-block btn-danger delete-button" id="btn-delete" onclick="deleteForm(this)"><i class="bi bi-trash"></i> Delete</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-10">
                                        <div class="assessment-content-card card-group-valveproperties first-in-group active">
                                            <div class="card-header">
                                                Asset Information
                                            </div>
                                            <div class="card-content">
                                                <input type="hidden" name="Id" id="data-id">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-assetid">Asset ID</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-assetid" name="AssetID" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-tagno">Tag No</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-tagno" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-equipmentname">Equipment Name</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-equipmentname" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-businessarea">Business Area</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-businessarea" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-platform">Platform</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-platform" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-parentequipmentno">Parent Equipment No.</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-parentequipmentno" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-parentequipmentdesc">Parent Equipment Description</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-parentequipmentdesc" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-installationdate">Installation Date</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-installationdate" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-pidno">PID No</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-pidno" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-valvetype">Valve Type</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-valvetype" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-manufacturer">Manufacturer</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-manufacturer" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-bodymaterial">Body Material</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-bodymaterial" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-bodymodel">Body Model</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-bodymodel" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-endconnection">End Connection</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-endconnection" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-serialno">Serial No</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-serialno" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-usagetype">Usage Type</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-usagetype" readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-size">Size (inch)</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-size" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-classrating">Class Rating</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-classrating" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-servicefluid">Service Fluid</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-servicefluid" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-fluidphase">Fluid Phase</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-fluidphase" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-flowrate">Flow Rate (m3/hr)</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-flowrate" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-operatingtemperature">Operating Temperature (F)</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-operatingtemperature" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-operatingpressure">Operating Pressure (Psig)</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-operatingpressure" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-toxicorflamableliquid">Toxic or Flamable Liquid</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-toxicorflamableliquid" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-costofreplacement">Cost of replacement and repair (USD)</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-costofreplacement" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-actuatormfg">Actuator Mfg</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-actuatormfg" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-actuatorserialno">Actuator Serial No.</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-actuatorserialno" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-actuatortypemodel">Actuator Type/Model</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-actuatortypemodel" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-actuatorpower">Actuator Power</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-actuatorpower" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-manualoverride">Manual Override</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-manualoverride" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-status">Status</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-status" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="field-assessment-Actuation">Actuation</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input type="text" class="form-control form-control-sm" id="field-assessment-actuation" readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="assessment-content-card card-group-valveproperties last-in-group active">
                                            <div class="card-header">
                                                Assessment Information
                                            </div>
                                            <div class="card-content">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="assessment-no">Assessment No</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input class="form-control form-control-sm" id="assessment-no" name="AssessmentNo" value="">
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="assessment-date">Assessment Date</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input class="form-control datepicker form-control-sm" id="assessment-date" name="AssessmentDate" value="@defaultDate" required>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-4">
                                                                <label class="col-form-label" for="time-period">Time Period (Month)</label>
                                                            </div>
                                                            <div class="col-8">
                                                                <input class="form-control form-control-sm calculate-assessment" id="time-period" name="timePeriode" type="number" step="1" onchange="calculateAssessment.apply(this)" value="12" required>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-8">
                                                                <label class="col-form-label" for="time-to-limit-a">Time to Limit State Leakage to atmosphere (Month)</label>
                                                            </div>
                                                            <div class="col-4">
                                                                <input class="form-control form-control-sm" id="time-to-limit-a" name="TimeToLimitStateLeakageToAtmosphere" value="0" type="number" step="1" required>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-8">
                                                                <label class="col-form-label" for="time-to-limit-b">Time to Limit State Failure of function (Month)</label>
                                                            </div>
                                                            <div class="col-4">
                                                                <input class="form-control form-control-sm" id="time-to-limit-b" name="TimeToLimitStateFailureOfFunction" value="0" type="number" step="1" required>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-8">
                                                                <label class="col-form-label" for="time-to-limit-c">Time to Limit State Passing accros valve (Month)</label>
                                                            </div>
                                                            <div class="col-4">
                                                                <input class="form-control form-control-sm" id="time-to-limit-c" name="TimeToLimitStatePassingAccrosValve" value="0" type="number" step="1" required>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="assessment-content-card card-group-inspectionhistory first-in-group last-in-group">
                                            <div class="card-header">
                                                Inspection History
                                            </div>
                                            <div class="card-content" style="min-height: 500px;">
                                                <input type="hidden" class="inspection-data-temp form-control" id="inspectionDataTemp" name="inspectionDataTemp" />
                                                <a class="btn btn-primary btn-maincolor mb-2 mt-4 only-add addInspectionData">Add Inspection Data</a>
                                                <table class="datatable table custom-table inspection-table" style="width: 100%;">
                                                    <thead>
                                                        <tr>
                                                            <th>No</th>
                                                            <th>Inspection Date</th>
                                                            <th>Inspection Method</th>
                                                            <th>Inspection Description</th>
                                                            <th>Function Condition</th>
                                                            <th>Test Pressure  (if any)</th>
                                                            <th style="width:200px">Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="assessment-content-card card-group-maintenancehistory first-in-group last-in-group">
                                            <div class="card-header">
                                                Maintenance History
                                            </div>
                                            <div class="card-content" style="min-height: 500px;">
                                                <input type="hidden" class="maintenance-data-temp form-control" id="maintenanceDataTemp" name="maintenanceDataTemp" />
                                                <a class="btn btn-primary btn-maincolor mb-2 mt-4 only-add addMaintenanceData">Add Maintenance Data</a>
                                                <table class="datatable table table-bordered maintenance-table" style="width:100%">
                                                    <thead>
                                                        <tr>
                                                            <th>No</th>
                                                            <th>Maintenance Date</th>
                                                            <th>Is Valve Repaired?</th>
                                                            <th>Maintenance Description</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="assessment-content-card card-group-riskassessment first-in-group">
                                            <div class="card-header">
                                                Likelihood of Failure
                                            </div>
                                            <div class="card-content">
                                                <div class="row">
                                                    <div class="col-lg-8">
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-12">
                                                                LF1 - Current Condition
                                                            </div>
                                                            <span last-inspection-date id="last-inspection-date"></span>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-1">
                                                            </div>
                                                            <div class="col-5">
                                                                <label class="col-form-label" for="leakage-to-atmosphere">Leakage to atmophere</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <select class="form-select form-select-sm calculate-assessment readonly" id="leakage-to-atmosphere" name="LeakageToAtmosphereID" onchange="calculateAssessment.apply(this)">
                                                                    @if (limitState != null)
                                                                    {
                                                                        foreach (var item in limitState)
                                                                        {
                                                                            <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.CurrentConditionLimitState</option>
                                                                        }
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-1">
                                                            </div>
                                                            <div class="col-5">
                                                                <label class="col-form-label" for="failure-of-function">Failure of Function</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <select class="form-select form-select-sm calculate-assessment readonly" id="failure-of-function" name="FailureOfFunctionID" onchange="calculateAssessment.apply(this)">
                                                                    @if(limitState != null)
                                                                    {
                                                                        foreach (var item in limitState)
                                                                        {
                                                                            <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.CurrentConditionLimitState</option>
                                                                        }
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-1">
                                                            </div>
                                                            <div class="col-5">
                                                                <label class="col-form-label" for="passing-accross-valve">Passing accross valve</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <select class="form-select form-select-sm calculate-assessment readonly" id="passing-accross-valve" name="PassingAccrosValveID" onchange="calculateAssessment.apply(this)">
                                                                    @if(limitState != null)
                                                                    {
                                                                        foreach (var item in limitState)
                                                                        {
                                                                            <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.CurrentConditionLimitState</option>
                                                                        }
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field mt-2">
                                                            <div class="col-12">
                                                                LF2 - Time To Limit State
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-1">
                                                            </div>
                                                            <div class="col-4">
                                                            </div>
                                                            <div class="col-7">
                                                                <div class="row">
                                                                    <div class="col-4">
                                                                        <b>TP1</b>
                                                                    </div>
                                                                    <div class="col-4">
                                                                        <b>TP2</b>
                                                                    </div>
                                                                    <div class="col-4">
                                                                        <b>TP3</b>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-1">
                                                            </div>
                                                            <div class="col-4">
                                                                <label class="col-form-label">Leakage to atmophere</label>
                                                            </div>
                                                            <div class="col-7">
                                                                <div class="row">
                                                                    <div class="col-4">
                                                                        <select class="form-select form-select-sm calculate-assessment readonly" id="leakage-tp1" name="LeakageToAtmosphereTP1ID" onchange="calculateAssessment.apply(this)">
                                                                            @if (timeToLimitStates != null)
                                                                            {
                                                                                foreach (var item in timeToLimitStates)
                                                                                {
                                                                                    <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.TimeToLimitState</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-4">
                                                                        <select class="form-select form-select-sm calculate-assessment readonly" id="leakage-tp2" name="LeakageToAtmosphereTP2ID" onchange="calculateAssessment.apply(this)">
                                                                            @if (timeToLimitStates != null)
                                                                            {
                                                                                foreach (var item in timeToLimitStates)
                                                                                {
                                                                                    <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.TimeToLimitState</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-4">
                                                                        <select class="form-select form-select-sm calculate-assessment readonly" id="leakage-tp3" name="LeakageToAtmosphereTP3ID" onchange="calculateAssessment.apply(this)">
                                                                            @if (timeToLimitStates != null)
                                                                            {
                                                                                foreach (var item in timeToLimitStates)
                                                                                {
                                                                                    <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.TimeToLimitState</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-1">
                                                            </div>
                                                            <div class="col-4">
                                                                <label class="col-form-label">Failure of Function</label>
                                                            </div>
                                                            <div class="col-7">
                                                                <div class="row">
                                                                    <div class="col-4">
                                                                        <select class="form-select form-select-sm calculate-assessment readonly" id="failure-tp1" name="FailureOfFunctionTP1ID" onchange="calculateAssessment.apply(this)">
                                                                            @if (timeToLimitStates != null)
                                                                            {
                                                                                foreach (var item in timeToLimitStates)
                                                                                {
                                                                                    <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.TimeToLimitState</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-4">
                                                                        <select class="form-select form-select-sm calculate-assessment readonly" id="failure-tp2" name="FailureOfFunctionTP2ID" onchange="calculateAssessment.apply(this)">
                                                                            @if (timeToLimitStates != null)
                                                                            {
                                                                                foreach (var item in timeToLimitStates)
                                                                                {
                                                                                    <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.TimeToLimitState</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-4">
                                                                        <select class="form-select form-select-sm calculate-assessment readonly" id="failure-tp3" name="FailureOfFunctionTP3ID" onchange="calculateAssessment.apply(this)">
                                                                            @if (timeToLimitStates != null)
                                                                            {
                                                                                foreach (var item in timeToLimitStates)
                                                                                {
                                                                                    <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.TimeToLimitState</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-1">
                                                            </div>
                                                            <div class="col-4">
                                                                <label class="col-form-label">Passing accross valve</label>
                                                            </div>
                                                            <div class="col-7">
                                                                <div class="row">
                                                                    <div class="col-4">
                                                                        <select class="form-select form-select-sm calculate-assessment readonly" id="passing-tp1" name="PassingAccrosValveTP1ID" onchange="calculateAssessment.apply(this)">
                                                                            @if (timeToLimitStates != null)
                                                                            {
                                                                                foreach (var item in timeToLimitStates)
                                                                                {
                                                                                    <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.TimeToLimitState</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-4">
                                                                        <select class="form-select form-select-sm calculate-assessment readonly" id="passing-tp2" name="PassingAccrosValveTP2ID" onchange="calculateAssessment.apply(this)">
                                                                            @if (timeToLimitStates != null)
                                                                            {
                                                                                foreach (var item in timeToLimitStates)
                                                                                {
                                                                                    <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.TimeToLimitState</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-4">
                                                                        <select class="form-select form-select-sm calculate-assessment readonly" id="passing-tp3" name="PassingAccrosValveTP3ID" onchange="calculateAssessment.apply(this)">
                                                                            @if (timeToLimitStates != null)
                                                                            {
                                                                                foreach (var item in timeToLimitStates)
                                                                                {
                                                                                    <option value="@item.Id" attr-value="@item.LimitStateValue" attr-weighting="@item.Weighting">@item.TimeToLimitState</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field mt-2">
                                                            <div class="col-6">
                                                                <label class="col-form-label" for="inspection-effectiveness">LF3 - Inspection Effectiveness</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <select class="form-select form-select-sm calculate-assessment readonly" id="inspection-effectiveness" name="InspectionEffectivenessID" onchange="calculateAssessment.apply(this)">
                                                                    @if (inspectionEffectivenessStates != null)
                                                                    {
                                                                        foreach (var item in inspectionEffectivenessStates)
                                                                        {
                                                                            <option value="@item.Id" attr-value="@item.EffectivenessValue" attr-weighting="@item.Weighting">@item.Effectiveness</option>
                                                                        }
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-6">
                                                                <label class="col-form-label" for="impact-of-internal-fluid">LF4 - Impact of Internal Fluid Impurities</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <select class="form-select form-select-sm calculate-assessment" id="impact-of-internal-fluid" name="ImpactOfInternalFluidImpuritiesID" onchange="calculateAssessment.apply(this)">
                                                                    @if(impactEffectStates != null)
                                                                    {
                                                                        foreach (var item in impactEffectStates)
                                                                        {
                                                                            <option value="@item.Id" attr-value="@item.ImpactEffectValue" attr-weighting="@item.Weighting">@item.ImpactEffect</option>
                                                                        }
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-6">
                                                                <label class="col-form-label" for="impact-of-operating-envelopes">LF5 - Impact of Operating Envelopes</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <select class="form-select form-select-sm calculate-assessment" id="impact-of-operating-envelopes" name="ImpactOfOperatingEnvelopesID" onchange="calculateAssessment.apply(this)">
                                                                    @if(impactEffectStates != null)
                                                                    {
                                                                        foreach (var item in impactEffectStates)
                                                                        {
                                                                            <option value="@item.Id" attr-value="@item.ImpactEffectValue" attr-weighting="@item.Weighting2">@item.ImpactEffect</option>
                                                                        }
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-6">
                                                                <label class="col-form-label" for="used-within-oem-specification">LF6 - Used within OEM Specification</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <select class="form-select form-select-sm calculate-assessment" id="used-within-oem-specification" name="UsedWithinOEMSpecificationID" onchange="calculateAssessment.apply(this)">
                                                                    @if(usedWithinOEMSpecifications != null)
                                                                    {
                                                                        foreach (var item in usedWithinOEMSpecifications)
                                                                        {
                                                                            <option value="@item.Id" attr-value="@item.UsedWithinOEMSpecificationValue" attr-weighting="@item.Weighting">@item.UsedWithinOEMSpecification</option>
                                                                        }
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-6">
                                                                <label class="col-form-label" for="repaired">LF7 - Repaired</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <select class="form-select form-select-sm calculate-assessment" id="repaired" name="RepairedID" onchange="calculateAssessment.apply(this)">
                                                                    @if(repairedStates != null)
                                                                    {
                                                                        foreach (var item in repairedStates)
                                                                        {
                                                                            <option value="@item.Id" attr-value="@item.RepairedValue" attr-weighting="@item.Weighting">@item.Repaired</option>
                                                                        }
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="assessment-content-card card-group-riskassessment last-in-group">
                                            <div class="card-header">
                                                Consequence of Failure
                                            </div>
                                            <div class="card-content">
                                                <div class="row">
                                                    <div class="col-lg-8">
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-6">
                                                                <label class="col-form-label" for="product-loss-definition">Product loss definition (bbls)</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <input class="form-control form-control-sm bbls-assessment calculate-assessment" id="product-loss-definition" name="ProductLossDefinition" type="number" step="1" value="0" onchange="calculateAssessment.apply(this)" required>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3 align-items-center single-field">
                                                            <div class="col-6">
                                                                <label class="col-form-label" for="hsse-definition">HSSE Definition</label>
                                                            </div>
                                                            <div class="col-6">
                                                                <select class="form-select form-select-sm" id="hsse-definition-bypld" hidden>
                                                                    @if(hsseDefinisions != null)
                                                                    {
                                                                        foreach (var item in hsseDefinisions)
                                                                        {
                                                                            <option value="@item.Id" attr-minvalue="@item.MinBBSValue" attr-cofcategory="@item.CoFCategory" attr-score="@item.Score">@item.HSSEDefinision</option>
                                                                        }
                                                                    }
                                                                </select>
                                                                <select class="form-select form-select-sm" id="hsse-definition" name="HSSEDefinisionID">
                                                                    @if(hsseDefinisions != null)
                                                                    {
                                                                        foreach (var item in hsseDefinisions)
                                                                        {
                                                                            <option value="@item.Id" attr-minvalue="@item.MinBBSValue" attr-cofcategory="@item.CoFCategory" attr-score="@item.Score">@item.HSSEDefinision</option>
                                                                        }
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="assessment-content-card card-group-riskmatrix first-in-group last-in-group">
                                            <div class="card-header">
                                                Risk
                                            </div>
                                            @{
                                                bool devmode = false;
                                                string hidden_dev = devmode ? "" : "hidden";
                                            }
                                            <input type="hidden" name='ConsequenceOfFailure' id="consequenceOfFailure" />
                                            <input type="hidden" name='TP1A' id="TP1A-field" />
                                            <input type="hidden" name='TP2A' id="TP2A-field" />
                                            <input type="hidden" name='TP3A' id="TP3A-field" />
                                            <input type="hidden" name='TP1B' id="TP1B-field" />
                                            <input type="hidden" name='TP2B' id="TP2B-field" />
                                            <input type="hidden" name='TP3B' id="TP3B-field" />
                                            <input type="hidden" name='TP1C' id="TP1C-field" />
                                            <input type="hidden" name='TP2C' id="TP2C-field" />
                                            <input type="hidden" name='TP3C' id="TP3C-field" />
                                            <input type="hidden" name='TPTimeToActionA' id="TPA-TTA-field" />
                                            <input type="hidden" name='TPTimeToActionB' id="TPB-TTA-field" />
                                            <input type="hidden" name='TPTimeToActionC' id="TPC-TTA-field" />
                                            <input type="hidden" name='TP1Risk' id="TP1RISK-field" />
                                            <input type="hidden" name='TP2Risk' id="TP2RISK-field" />
                                            <input type="hidden" name='TP3Risk' id="TP3RISK-field" />
                                            <input type="hidden" name="TPTimeToActionRisk" id="TPRISK-TTA-field" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>LoFScoreLeakageToAtmophereTP1</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="LoFScoreLeakageToAtmophereTP1" id="TP1A-value" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>LoFScoreLeakageToAtmophereTP2</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="LoFScoreLeakageToAtmophereTP2" id="TP2A-value" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>LoFScoreLeakageToAtmophereTP3</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="LoFScoreLeakageToAtmophereTP3" id="TP3A-value" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>LoFScoreFailureOfFunctionTP1</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="LoFScoreFailureOfFunctionTP1" id="TP1B-value" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>LoFScoreFailureOfFunctionTP2</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="LoFScoreFailureOfFunctionTP2" id="TP2B-value" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>LoFScoreFailureOfFunctionTP3</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="LoFScoreFailureOfFunctionTP3" id="TP3B-value" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>LoFScorePassingAccrossValveTP1</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="LoFScorePassingAccrossValveTP1" id="TP1C-value" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>LoFScorePassingAccrossValveTP2</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="LoFScorePassingAccrossValveTP2" id="TP2C-value" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>LoFScorePassingAccrossValveTP3</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="LoFScorePassingAccrossValveTP3" id="TP3C-value" />
                                            @{
                                                if(devmode){
                                                    <br/>
                                                    <b>CoFScore</b>
                                                }
                                            }
                                            <input class="col-md-3" type="@hidden_dev" name="CoFScore" id="COF-value" />

                                            <div class="card-content">
                                                <div class="row">
                                                    <div class="col-lg-8">
                                                        <div class="row g-3 mb-4 mt-1">
                                                            <div class="col-12 d-flex">
                                                                <div class="risk-table-container">
                                                                    <svg class="risk-table-legend" viewBox="0 0 550 440">
                                                                        <defs>
                                                                            <path d="M 0 0  L 550 0  L 550 440  L 0 440  Z " fill-rule="evenodd" fill="black" id="path33" />
                                                                            <clipPath id="clip34">
                                                                                <use xlink:href="#path33" />
                                                                            </clipPath>
                                                                            <filter x="-50.00%" y="-50.00%" width="200.00%" height="200.00%" filterUnits="objectBoundingBox" id="filter35">
                                                                                <feColorMatrix type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0  " in="SourceGraphic" />
                                                                            </filter>
                                                                        </defs>
                                                                        <g transform="matrix(1 0 0 1 -174 -55 )">
                                                                            <g transform="matrix(0.902272727272727 0 0 0.902272727272727 200.875 55 )" clip-path="url(#clip34)" filter="url(#filter35)">
                                                                                <text x="125" y="275" font-size="12">A</text>
                                                                                <text x="125" y="225" font-size="12">B</text>
                                                                                <text x="125" y="175" font-size="12">C</text>
                                                                                <text x="125" y="125" font-size="12">D</text>
                                                                                <text x="125" y="75" font-size="12">E</text>
                                                                                <text x="175" y="322" font-size="12">1</text>
                                                                                <text x="225" y="322" font-size="12">2</text>
                                                                                <text x="275" y="322" font-size="12">3</text>
                                                                                <text x="325" y="322" font-size="12">4</text>
                                                                                <text x="375" y="322" font-size="12">5</text>
                                                                                <text x="225" y="350" font-size="12" font-weight="bold">Likelihood of Failure</text>
                                                                                <g transform="translate(100,242)">
                                                                                    <g transform="rotate(-90)">
                                                                                        <text font-size="12" font-weight="bold">Consequence of Failure</text>
                                                                                    </g>
                                                                                </g>
                                                                                <g class="legend">
                                                                                    <polygon points="425,55 420,65 430,65" fill="white" stroke-width="2" stroke="gray"></polygon>
                                                                                    <text x="440" y="65" font-size="12">TP1 A</text>
                                                                                    <circle cx="425" cy="78" r="5" fill="white" stroke-width="2" stroke="gray"></circle>
                                                                                    <text x="440" y="83" font-size="12">TP2 A</text>
                                                                                    <rect x="420" y="91" width="10" height="10" fill="white" stroke-width="2" stroke="gray"></rect>
                                                                                    <text x="440" y="101" font-size="12">TP3 A</text>
                                                                                    <polygon points="425,110 420,120 430,120" fill="black" stroke-width="2" stroke="gray"></polygon>
                                                                                    <text x="440" y="120" font-size="12">TP1 B</text>
                                                                                    <circle cx="425" cy="134" r="5" fill="black" stroke-width="2" stroke="gray"></circle>
                                                                                    <text x="440" y="139" font-size="12">TP2 B</text>
                                                                                    <rect x="420" y="148" width="10" height="10" fill="black" stroke-width="2" stroke="gray"></rect>
                                                                                    <text x="440" y="158" font-size="12">TP3 B</text>
                                                                                    <polygon points="425,167 420,177 430,177" fill="pink" stroke-width="2" stroke="gray"></polygon>
                                                                                    <text x="440" y="177" font-size="12">TP1 C</text>
                                                                                    <circle cx="425" cy="191" r="5" fill="pink" stroke-width="2" stroke="gray"></circle>
                                                                                    <text x="440" y="196" font-size="12">TP2 C</text>
                                                                                    <rect x="420" y="205" width="10" height="10" fill="pink" stroke-width="2" stroke="gray"></rect>
                                                                                    <text x="440" y="215" font-size="12">TP3 C</text>
                                                                                </g>
                                                                            </g>
                                                                        </g>
                                                                    </svg>
                                                                    <div class="risk-matrix">
                                                                        <div class="risk-matrix-dots">
                                                                            <!-- A Leakage to Atmosphere -->
                                                                            <div class="dot dot-tp1 type-a" id="TP1A"></div>
                                                                            <div class="dot dot-tp2 type-a" id="TP2A"></div>
                                                                            <div class="dot dot-tp3 type-a" id="TP3A"></div>
                                                                            <!-- B Failure -->
                                                                            <div class="dot dot-tp1 type-b" id="TP1B"></div>
                                                                            <div class="dot dot-tp2 type-b" id="TP2B"></div>
                                                                            <div class="dot dot-tp3 type-b" id="TP3B"></div>
                                                                            <!-- C Passing Accross Valve -->
                                                                            <div class="dot dot-tp1 type-c" id="TP1C"></div>
                                                                            <div class="dot dot-tp2 type-c" id="TP2C"></div>
                                                                            <div class="dot dot-tp3 type-c" id="TP3C"></div>
                                                                        </div>
                                                                        <svg id="risk-table" width="250" height="250">
                                                                            <g>
                                                                                <g>
                                                                                    <rect x="0" y="200" width="50" height="50" fill="#81B014" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="50" y="200" width="50" height="50" fill="#81B014" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="100" y="200" width="50" height="50" fill="#008001" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="150" y="200" width="50" height="50" fill="#FFFF00" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="200" y="200" width="50" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                    <rect x="200" y="200" width="1" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="5"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="0" y="150" width="50" height="50" fill="#6FA529" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="50" y="150" width="50" height="50" fill="#008001" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="100" y="150" width="50" height="50" fill="#FFFF00" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="150" y="150" width="50" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                    <rect x="150" y="150" width="1" height="50" fill="#FFFF00" stroke="rgb(0,0,0)" stroke-width="5"></rect>
                                                                                    <rect x="150" y="200" width="50" height="1" fill="#FFFF00" stroke="rgb(0,0,0)" stroke-width="5"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="200" y="150" width="50" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="0" y="100" width="50" height="50" fill="#008001" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="50" y="100" width="50" height="50" fill="#FFFF00" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="100" y="100" width="50" height="50" fill="#FFFF00" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="150" y="100" width="50" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                    <rect x="150" y="100" width="1" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="5"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="200" y="100" width="50" height="50" fill="#FE0000" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="0" y="50" width="50" height="50" fill="#FFFF00" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="50" y="50" width="50" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                    <rect x="50" y="50" width="1" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="5"></rect>
                                                                                    <rect x="50" y="100" width="50" height="1" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="5"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="100" y="50" width="50" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                    <rect x="100" y="100" width="50" height="1" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="5"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="150" y="50" width="50" height="50" fill="#FE0000" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="200" y="50" width="50" height="50" fill="#FE0000" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="0" y="0" width="50" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="50" y="0" width="50" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                    <rect x="50" y="0" width="1" height="50" fill="#FF6400" stroke="rgb(0,0,0)" stroke-width="5"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="100" y="0" width="50" height="50" fill="#FE0000" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="150" y="0" width="50" height="50" fill="#FE0000" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                                <g>
                                                                                    <rect x="200" y="0" width="50" height="50" fill="#FE0000" stroke="rgb(0,0,0)" stroke-width="1"></rect>
                                                                                </g>
                                                                            </g>
                                                                        </svg>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row g-3">
                                                            <div class="col-12">
                                                                <table id="example" class="table table-hover custom-table basic-th mt-4" style="width:100%">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="ta-center header-cell">Limit State</td>
                                                                            <td class="ta-center header-cell">Risk TP1</td>
                                                                            <td class="ta-center header-cell">Risk TP2</td>
                                                                            <td class="ta-center header-cell">Risk TP3</td>
                                                                            <td class="ta-center header-cell">Time To Action</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="header-cell">Leakage Atmosphere</td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP1A-colorlabel id="TP1A-colorlabel"></div>
                                                                                    <span TP1A-label id="TP1A-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP2A-colorlabel id="TP2A-colorlabel"></div>
                                                                                    <span TP2A-label id="TP2A-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP3A-colorlabel id="TP3A-colorlabel"></div>
                                                                                    <span TP3A-label id="TP3A-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <span TPA-TTA id="TPA-TTA"></span>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="header-cell">Failure of function</td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP1B-colorlabel id="TP1B-colorlabel"></div>
                                                                                    <span TP1B-label id="TP1B-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP2B-colorlabel id="TP2B-colorlabel"></div>
                                                                                    <span TP2B-label id="TP2B-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP3B-colorlabel id="TP3B-colorlabel"></div>
                                                                                    <span TP3B-label id="TP3B-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <span TPB-TTA id="TPB-TTA"></span>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="header-cell">Passing across valve</td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP1C-colorlabel id="TP1C-colorlabel"></div>
                                                                                    <span TP1C-label id="TP1C-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP2C-colorlabel id="TP2C-colorlabel"></div>
                                                                                    <span TP2C-label id="TP2C-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP3C-colorlabel id="TP3C-colorlabel"></div>
                                                                                    <span TP3C-label id="TP3C-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <span TPC-TTA id="TPC-TTA"></span>
                                                                            </td>
                                                                        </tr>
                                                                    <tfoot class="bg-grey">
                                                                        <tr>
                                                                            <td class="header-cell">Risk</td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP1RISK-colorlabel id="TP1RISK-colorlabel"></div>
                                                                                    <span TP1RISK-label id="TP1RISK-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP2RISK-colorlabel id="TP2RISK-colorlabel"></div>
                                                                                    <span TP2RISK-label id="TP2RISK-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <div TP3RISK-colorlabel id="TP3RISK-colorlabel"></div>
                                                                                    <span TP3RISK-label id="TP3RISK-label"></span>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <span TPRISK-TTA id="TPRISK-TTA"></span>
                                                                            </td>
                                                                        </tr>
                                                                    </tfoot>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="assessment-content-card card-group-integrityplan  first-in-group last-in-group">
                                            <div class="card-header">
                                                Integrity Plan
                                            </div>
                                            <div class="card-content">
                                                <div class="row">
                                                    <div class="col-lg-8">
                                                        <div class="row g-3">
                                                            <div class="col-6">
                                                                <div class="mb-3">
                                                                    <label class="form-label fw-500">Integrity Status</label>                                  
                                                                    <div class="input-group input-group-sm input-search">
                                                                        @* <span class="input-group-text disabled">
                                                                            <div class="status-box green">
                                                                            </div>
                                                                        </span> *@
                                                                        <select id="integrity-status" class="form-select form-select-sm" name="IntegrityStatus">
                                                                            <option value="Very High Priority">Very High Priority</option>
                                                                            <option value="High Priority">High Priority</option>
                                                                            <option value="Medium Priority">Medium Priority</option>
                                                                            <option value="Low Priority">Low Priority</option>
                                                                            <option value="Very Low Priority">Very Low Priority</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="mb-3">
                                                                    <label class="form-label fw-500" for="assessment-summary">Summary</label>
                                                                    <textarea class="form-control form-control-sm" id="assessment-summary" style="height: 200px;" name="Summary"></textarea>
                                                                </div>
                                                            </div>
                                                            <div class="col-6">
                                                                <div class="mb-3">
                                                                    <label class="form-label fw-500">Time To Action</label>
                                                                    <input id="time-to-action" class="form-control datepicker form-control-sm" name="TimeToAction" required/>
                                                                </div>
                                                                <div class="mb-3">
                                                                    <label class="form-label fw-500" for="recommended-action">Recommendation Action</label>
                                                                    <select class="form-select form-select-sm" id="recommended-action" name="RecommendationActionID" required>
                                                                        <option disabled selected>-- Select One --</option>
                                                                        <option value="1">Inspection</option>
                                                                        <option value="2">Repair</option>
                                                                        <option value="3">Replace</option>
                                                                    </select>
                                                                </div>
                                                                <div class="mb-3">
                                                                    <label class="form-label fw-500" for="detailed-recommendation">Detailed Recommendation</label>
                                                                    <textarea class="form-control form-control-sm" style="height: 124px;" id="detailed-recommendation" name="DetailedRecommendation"></textarea>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <div class="modal fade modal-xl assessment-form-modal" id="detailInspectionModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <form class="inspection-form inspection-tab">
                    <div class="box">
                        <div class="subheader m-0">
                            <b>Asset Information</b>
                        </div>
                        <div class="sub-container">
                            <div class="form-container">
                                <div class="form-grid">
                                    <div class="form-group-inline">
                                        <label for="field-inspection-assetid">Asset ID</label>
                                        <input type="text" class="form-control" id="field-inspection-assetid" readonly name="AssetID">
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="field-inspection-valvetype">Valve Type</label>
                                        <input type="text" class="form-control" id="field-inspection-valvetype" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="field-inspection-tagno">Tag No</label>
                                        <input type="text" class="form-control" id="field-inspection-tagno" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="field-inspection-manufacturer">Manufacturer</label>
                                        <input type="text" class="form-control" id="field-inspection-manufacturer" readonly>
                                    </div>
                                    <div class="form-group-inline" style="display: none;">
                                        <label for="field-inspection-equipmentname">Equipment Name</label>
                                        <input type="text" class="form-control" id="field-inspection-equipmentname" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="field-inspection-bodymaterial">Body Material</label>
                                        <input type="text" class="form-control" id="field-inspection-bodymaterial" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="businessarea">Business Area</label>
                                        <input type="text" class="form-control" id="businessarea" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="bodymodel">Body Model</label>
                                        <input type="text" class="form-control" id="bodymodel" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="platform">Platform</label>
                                        <input type="text" class="form-control" id="platform" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="endconnection">End Connection</label>
                                        <input type="text" class="form-control" id="endconnection" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="parentequipmentno">Parent Equipment No.</label>
                                        <input type="text" class="form-control" id="parentequipmentno" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="serialno">Serial No.</label>
                                        <input type="text" class="form-control" id="serialno" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="parentequipmentdescription">Parent Equipment Description</label>
                                        <input type="text" class="form-control" id="parentequipmentdescription" readonly>
                                    </div>
                                    <div class="form-group-inline" style="display: none;">
                                        <label for="usagetype">Usage Type</label>
                                        <input type="text" class="form-control" id="usagetype" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="installationdate">Installation Date</label>
                                        <input type="text" class="form-control" id="installationdate" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="size">Size (inch)</label>
                                        <input type="text" class="form-control" id="size" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="pidno">PID No</label>
                                        <input type="text" class="form-control" id="pidno" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="classrating">Class Rating</label>
                                        <input type="text" class="form-control" id="classrating" readonly>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="box">
                        <div class="subheader m-0">
                            <b>Inspection Information</b>
                        </div>
                        <div class="sub-container">
                            <div class="form-container">
                                <div class="form-grid">
                                    <input type="hidden" name="Id" id="data-id">
                                    <div class="form-group ">
                                        <label for="field-inspection-valvetagno">Valve Tag No</label>
                                        <input type="text" class="form-control" id="field-inspection-valvetagno" readonly>
                                    </div>
                                    <div class="form-group ">
                                        <label for="field-inspection-current-condition-limit-state-a">Current Condition Leakage to Atmosphere</label>
                                        <select class="form-control"
                                            id="field-inspection-current-condition-limit-state-a"
                                            name="CurrentConditionLeakeageToAtmosphereID"
                                            readonly
                                        >
                                            @if(limitState != null){
                                                foreach (var item in limitState)
                                                {
                                                    <option value="@item.Id">@item.CurrentConditionLimitState</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div class="form-group ">
                                        <label for="field-inspection-date">Inspection Date</label>
                                        <input id="field-inspection-date" type="text"
                                            class="form-control datepicker" name="InspectionDate"
                                            readonly/>
                                    </div>
                                    <div class="form-group ">
                                        <label for="field-inspection-current-condition-limit-state-b">Current Condition Failure of Function</label>
                                        <select class="form-control"
                                            id="field-inspection-current-condition-limit-state-b"
                                            name="CurrentConditionFailureOfFunctionID"
                                            readonly
                                        >
                                            @if(limitState != null){
                                                foreach (var item in limitState)
                                                {
                                                    <option value="@item.Id">@item.CurrentConditionLimitState</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div class="form-group ">
                                        <label for="field-inspection-inspection-method">Inspection
                                            Method</label>
                                        <select class="form-control" id="field-inspection-inspection-method" name="InspectionMethodID" readonly>
                                        @if(inspectionMethods != null){
                                            @foreach (var item in inspectionMethods)
                                            {
                                                <option value="@item.Id">@item.InspectionMethod</option>
                                            }
                                        }
                                        </select>
                                    </div>
                                    <div class="form-group ">
                                        <label for="field-inspection-current-condition-limit-state-c">Current
                                            Condition Passing Across Valve</label>
                                        <select class="form-control"
                                            id="field-inspection-current-condition-limit-state-c"
                                            name="CurrentConditionPassingAcrossValveID"
                                            readonly
                                        >
                                            @if(limitState != null){
                                                foreach (var item in limitState)
                                                {
                                                    <option value="@item.Id">@item.CurrentConditionLimitState</option>
                                                }
                                            }
                                        </select>
                                    </div>
                                    <div class="form-group ">
                                        <label for="field-inspection-effectiveness">Inspection
                                            Effectiveness</label>
                                        <select class="form-control" id="field-inspection-effectiveness" name="InspectionEffectivenessID" readonly>
                                        @if(inspectionEffectivenessStates != null){
                                            foreach (var item in inspectionEffectivenessStates)
                                            {
                                                <option value="@item.Id">@item.Effectiveness</option>
                                            }
                                        }
                                        </select>
                                    </div>
                                    <div class="form-group ">
                                        <label for="field-inspection-function-condition">Function
                                            Condition</label>
                                        <input type="text" class="form-control"
                                            id="field-inspection-function-condition"
                                            name="FunctionCondition"
                                            readonly
                                        >
                                    </div>
                                    <div class="form-group">
                                        <label for="field-inspection-description">Inspection Description</label>
                                        <textarea class="form-control" id="field-inspection-description"
                                            rows="12" name="InspectionDescription" readonly></textarea>
                                    </div>
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="form-group col-md-12 mb-2">
                                                <label for="field-inspection-test-pressure-if-any">Test Pressure
                                                    if Any</label>
                                                <input type="text" 
                                                    name="TestPressureIfAny"
                                                    class="form-control"
                                                    id="field-inspection-test-pressure-if-any"
                                                    readonly>
                                            </div>
                                            <div class="col-md-12">
                                                <label for="field-inspection-image">Inspection Image</label>
                                                <div class="gallery-input">
                                                    <!-- <input type="file" class="form-control image-gallery-upload" id="field-inspection-image" onchange="imagesPreview(this)" multiple> -->
                                                    <div class="preview-image-gallery">
                                                        <!-- <label class="add-image" for="field-inspection-image"><i class="fa-solid fa-file-circle-plus"></i></label> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="box-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade modal-xl assessment-form-modal" id="detailMaintenanceModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <form class="inspection-form inspection-tab">
                    <div class="box">
                        <div class="subheader m-0">
                            <b>Asset Information</b>
                        </div>
                        <div class="sub-container">
                            <div class="form-container">
                                <div class="form-grid">
                                    <div class="form-group-inline">
                                        <label for="field-inspection-assetid">Asset ID</label>
                                        <input type="text" class="form-control" id="field-inspection-assetid" name="AssetID" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="field-inspection-valvetype">Valve Type</label>
                                        <input type="text" class="form-control" id="field-inspection-valvetype" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="field-inspection-tagno">Tag No</label>
                                        <input type="text" class="form-control" id="field-inspection-tagno" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="field-inspection-manufacturer">Manufacturer</label>
                                        <input type="text" class="form-control" id="field-inspection-manufacturer" readonly>
                                    </div>
                                    <div class="form-group-inline" style="display: none;">
                                        <label for="field-inspection-equipmentname">Equipment Name</label>
                                        <input type="text" class="form-control" id="field-inspection-equipmentname" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="field-inspection-bodymaterial">Body Material</label>
                                        <input type="text" class="form-control" id="field-inspection-bodymaterial" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="businessarea">Business Area</label>
                                        <input type="text" class="form-control" id="businessarea" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="bodymodel">Body Model</label>
                                        <input type="text" class="form-control" id="bodymodel" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="platform">Platform</label>
                                        <input type="text" class="form-control" id="platform" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="endconnection">End Connection</label>
                                        <input type="text" class="form-control" id="endconnection" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="parentequipmentno">Parent Equipment No.</label>
                                        <input type="text" class="form-control" id="parentequipmentno" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="serialno">Serial No.</label>
                                        <input type="text" class="form-control" id="serialno" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="parentequipmentdescription">Parent Equipment Description</label>
                                        <input type="text" class="form-control" id="parentequipmentdescription" readonly>
                                    </div>
                                    <div class="form-group-inline" style="display: none;">
                                        <label for="usagetype">Usage Type</label>
                                        <input type="text" class="form-control" id="usagetype" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="installationdate">Installation Date</label>
                                        <input type="text" class="form-control" id="installationdate" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="size">Size (inch)</label>
                                        <input type="text" class="form-control" id="size" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="pidno">PID No</label>
                                        <input type="text" class="form-control" id="pidno" readonly>
                                    </div>
                                    <div class="form-group-inline">
                                        <label for="classrating">Class Rating</label>
                                        <input type="text" class="form-control" id="classrating" readonly>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="box">
                        <div class="subheader m-0">
                            <b>Maintenance Information</b>
                        </div>
                        <div class="sub-container">
                            <div class="form-container">
                                <div class="form-grid">
                                    <input type="hidden" name="Id" id="data-id">
                                    <div class="form-group ">
                                        <label for="field-maintenance-date">Maintenance Date</label>
                                        <input id="field-maintenance-date" type="text"
                                            class="form-control datepicker" name="MaintenanceDate" readonly/>
                                    </div>
                                    <div class="form-group ">
                                        <label for="field-maintenance-repaired">Is Valve Repaired</label>
                                        <select class="form-control"
                                            id="field-maintenance-repaired"
                                            name="IsValveRepairedID"
                                            readonly
                                        >
                                            <option value="1">Yes</option>
                                            <option value="2">No</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="field-maintenance-description">Maintenance Description</label>
                                        <textarea class="form-control" id="field-maintenance-description"
                                            rows="8"
                                            name="MaintenanceDescription"
                                            readonly
                                            ></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="field-maintenance-image">Maintenance Image</label>
                                        <div class="gallery-input">
                                            <!-- <input type="file" class="form-control image-gallery-upload" id="field-maintenance-image" onchange="imagesPreview(this)" multiple> -->
                                            <div class="preview-image-gallery">
                                                <!-- <label class="add-image" for="field-maintenance-image"><i class="fa-solid fa-file-circle-plus"></i></label> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="box-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade modal-xl assessment-form-modal" id="addInspectionModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <form class="inspection-form inspection-tab">
                    <input type="hidden" name="tempData" />
                    <input type="hidden" name="tabNum" />
                    <div class="sub-container">
                        <table class="datatable table custom-table inspection-table" style="width: 100%;">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>Inspection Date</th>
                                    <th>Inspection Method</th>
                                    <th>Inspection Description</th>
                                    <th>Function Condition</th>
                                    <th>Test Pressure  (if any)</th>
                                    <th style="width:200px">Select</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                        <div class="box">
                            <div class="box-footer">
                                <button type="button" class="btn btn-secondary" onclick="confirmInspection(this)">Confirm</button>
                                <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade modal-xl assessment-form-modal" id="addMaintenanceModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <form class="inspection-form inspection-tab">
                    <input type="hidden" name="tempData" />
                    <input type="hidden" name="tabNum" />
                    <div class="sub-container">
                        <table class="datatable table custom-table maintenance-table" style="width: 100%;">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>Maintenance Date</th>
                                    <th>Is Valve Repaired?</th>
                                    <th>Maintenance Description</th>
                                    <th>Select</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                        <div class="box">
                            <div class="box-footer">
                                <button type="button" class="btn btn-secondary" onclick="confirmMaintenance(this)">Confirm</button>
                                <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
<input type="hidden" id="urlassessmentupdate" value="@urlassessmentupdate">
<input type="hidden" id="urlassessmentadd" value="@urlassessmentadd">
<input type="hidden" id="urlassessmentdelete" value="@urlassessmentdelete">
<input type="hidden" id="urlassetdetail" value="@urlassetdetail">
<input type="hidden" id="urlassessmentdetail" value="@urlassessmentdetail">
<input type="hidden" id="urlassessmentprint" value="@urlassessmentprint">
<input type="hidden" id="urlassessmentinspection" value="@urlassessmentinspection">
<input type="hidden" id="urlassessmentmaintenance" value="@urlassessmentmaintenance">
<input type="hidden" id="urlinspectiondetail" value="@urlinspectiondetail">
<input type="hidden" id="urlmaintenancedetail" value="@urlmaintenancedetail">
@section Scripts {
    <script src="~/js/imr/assessment.js" asp-append-version="true"></script>
}